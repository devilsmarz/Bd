DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Моделювання.DataAccess.SportShopContex'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202304081830500_InitialCreate'
BEGIN
    CREATE TABLE [dbo].[ItemDocs] (
        [ItemDocId] [int] NOT NULL IDENTITY,
        [Date] [datetime] NOT NULL,
        [Count] [int] NOT NULL,
        [SportItemId] [int] NOT NULL,
        [SportShopId] [int] NOT NULL,
        CONSTRAINT [PK_dbo.ItemDocs] PRIMARY KEY ([ItemDocId])
    )
    CREATE INDEX [IX_SportItemId] ON [dbo].[ItemDocs]([SportItemId])
    CREATE INDEX [IX_SportShopId] ON [dbo].[ItemDocs]([SportShopId])
    CREATE TABLE [dbo].[SportItems] (
        [SportItemId] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [Description] [nvarchar](max),
        [Price] [decimal](18, 2) NOT NULL,
        CONSTRAINT [PK_dbo.SportItems] PRIMARY KEY ([SportItemId])
    )
    CREATE TABLE [dbo].[SportShops] (
        [SportShopId] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [Address] [nvarchar](max),
        CONSTRAINT [PK_dbo.SportShops] PRIMARY KEY ([SportShopId])
    )
    ALTER TABLE [dbo].[ItemDocs] ADD CONSTRAINT [FK_dbo.ItemDocs_dbo.SportItems_SportItemId] FOREIGN KEY ([SportItemId]) REFERENCES [dbo].[SportItems] ([SportItemId]) ON DELETE CASCADE
    ALTER TABLE [dbo].[ItemDocs] ADD CONSTRAINT [FK_dbo.ItemDocs_dbo.SportShops_SportShopId] FOREIGN KEY ([SportShopId]) REFERENCES [dbo].[SportShops] ([SportShopId]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202304081830500_InitialCreate', N'Моделювання.DataAccess.SportShopContex',  0x1F8B0800000000000400DD5A5B6EE33614FD2FD03D08FA6A8B4CE42428300DEC19A44E52189D3C106706FD1B3012ED10A54895A4021B45B7D06EA08B288AF66B30ED163C2BE9167AA99729C97A3976C62D020436451E5E5E9E7B2F75E87FDEFDDD7F39F3A9F58085249C0DEC83FD9E6D61E6728FB0E9C00ED5E4D973FBE58B4F3FE99F79FECC7A93F63BD2FD60249303FB5EA9E0D871A47B8F7D24F77DE20A2EF944EDBBDC7790C79DC35EEF2BE7E0C0C10061039665F56F42A6888FA32FF075C8998B0315227AC13D4C65D20E4FC611AA75897C2C03E4E281BDF875F1D7E28FC59F8B771F7E5EFCBEF86DF17EF1FEC32FFBA748A113D7C552DAD60925080C1B633AB12DC418574881D9C7AF251E2BC1D9741C4003A2B7F30043BF09A21227CB395E766FBBB2DEA15E99B31C9842B9A154DCEF08787094B8CA290E5FCBE176E64A70E619385DCDF5AA23870EEC91C2FE29776DAB38D7F1900ADDAFD2DDD13EED27E3F7ACD5BDF632C200AFF4DF9E350CA90A051E301C2A81E89E751DDE51E27E8BE7B7FC7BCC062CA4D4B419AC8667B90668BA163CC042CD6FF024BF9291675B4E7EB8531C9F8D2E0F8D973C62EAE8D0B62EC1147447714610C33D63C505FE06332C90C2DE35520A0BD8DF91872317978C284C0964C5E96CFAF32DC4C28A09EB41861C82A8C9E67A8871C085D2EB6F5E7C0BA0F13D0F3A035DA207328D9C5A659B6DDD601AF590F72488C33A65DE5BA3D7B9E0FE0DA7CB1D5D3E7C3BE6A170B5CB79558F5B24A65875344FAFB8D9BCB8578579FA61BD79518F55E6F59D6540D786B9E1A435033D43D88150CF91B66BB07760FCE6C25DFF4F67830204A5D5B62ED0EC156653753FB00FBF04769019F6D286C480D78C402186314A84DDD3C32996AE20415C392AE7868FAD26AF9FEB5A107799D0B04B7C446DEB5AC0A7E45CF1DCB6C62ED2C637E5846EAC8E63EB31ACD608BBC2EA3483AEC5EA76E9F7E958DDDB06AB4F3C4F4467BCCA798F36306F15074FA4E42E89BC973F3C1875286FFE19F3ACC6A2142FC5A81BB020A01909805860C5C0FEA2E4963ADCB45618B84605C8231FD8456A5EB1534CB1C2D6891B1F5A8748BAC82BEF0CF8C8CBB7009BB1D0E441144EF412E2833055A63E612E09106DB2BF30B06B2DD0166673159F9CE20033CDF3A6CDD98011D95C05F73579ABEF1874EBC0C22825B6624BFEECB13916E64E2C4516C6197BA75968DADF9A00AB73F7FA2C34376703466C9C85718684310A466051B4423FC0B315A5195EC293EA2C935C5CE494C61D6395E736A4FC654E2EF2B444CB3C4416A0AB408CD4D80646AFAD1226E67601C6F05F6955E6FB8BD1AFF225A7B8AD6DCA4BB60CD3972582B429280692E9D26244E617DCD519B10F1B9C51CE712DB3DCA39C91CB6B456724C468ED8CF48C9145D052F47262D52B55C79C0A79AC7F8182008E3F865C96B458E3582B1B3E1B77578DFC18C301CFD4C47B36131C22D114179E6A75C2C3E74448A585B93BA44F5843CF2F752BE68B8A084C672BA484F2BEA551990ED09FE3418DBA61964ECAD936413B8795FA3A5D4727E73295CA232305135124AA35A721A7A1CF1A54AC3AAC584C3261E296F60889926442244DED3172872013A9F674D4809796B3125E559DD3D152D8AC52252C91A474A0C893AE15258D7CB8595256E6FE16B4AC19FB54DB18BF249A40714B077A9B3A468EE5E683F67889566122254DBB45A6B89E6C814CAB6A675B32AD1EBBE918DE1E9932F9C004C91A9F9800A51340B14B367B76122854FC7E527D9B6FCD4AE538EEA2453AFE40BCA814CF2584774497FDF10F744809D62520ED7081189960A96299CB3EEC1D1C166EDA76E7D6CB91D2A3EDAEBE3EF25D13D12E6E14E2BA4ABFC6F592079FD5A3AF9722331F7FB914C194DE0847F05E3A1BD83F46E38EADD1776F8DA17BD69500F61D5B3DEBA74D5C4B7532211EDAC18435AE6476E006642B2434E561F680847B8F44E9DAE3F1771A29F4673E9A7D6E0276BEB7F09EFCDE6207AE093ED2D6F71E2BFCAF843D6A82DD86AE6F28384F2EB897748AF564DCB514D3BA1793AD0BF5FF3B5DDE90BE9E5C30FFE82CAA7823D9BAD0FE1FD2D5CB725A2BD5BC4E348FDF00A0EEDD71D8F038675669A2D5927ABDA2BE6A8E1AE9B85271AF17DC2B6759ADC93E8D205FF250419269A13AAF92AB77516E2F6D534130D8FE523B88E9E557660856E3E7A8902C24992E21F48F53197673619AF519B1094F5346C1A2B44BE11C738115F2B4222314992057C1632DCD44BF62788368085DCEFC3BEC8DD855A88250C192B17F4773BFC6D059A76EFEE8C6206F73FF2A3A35CB4D2C01CC24FAB5F28A7D1D12EA65769FAF38705540E874961C38F55E2A7DF09CCE33A44BCE5A0225EECBB2F02DF6030A60F28A8DD1035EC7B6D712BFC253E4CE53E5A31AA47923F26EEF9F123415C89709C6723C7C050E7BFEECC5BFFE3D12B5952D0000 , N'6.4.4')
END

IF @CurrentMigration < '202304091344555_AddWaybill'
BEGIN
    CREATE TABLE [dbo].[Waybills] (
        [WaybillId] [int] NOT NULL IDENTITY,
        [Number] [nvarchar](6),
        [Date] [datetime] NOT NULL,
        [SportShopId] [int] NOT NULL,
        CONSTRAINT [PK_dbo.Waybills] PRIMARY KEY ([WaybillId])
    )
    CREATE INDEX [IX_SportShopId] ON [dbo].[Waybills]([SportShopId])
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.SportItems')
    AND col_name(parent_object_id, parent_column_id) = 'Name';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[SportItems] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[SportItems] ALTER COLUMN [Name] [nvarchar](25) NOT NULL
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.SportShops')
    AND col_name(parent_object_id, parent_column_id) = 'Name';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[SportShops] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[SportShops] ALTER COLUMN [Name] [nvarchar](20) NOT NULL
    DECLARE @var2 nvarchar(128)
    SELECT @var2 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.SportShops')
    AND col_name(parent_object_id, parent_column_id) = 'Address';
    IF @var2 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[SportShops] DROP CONSTRAINT [' + @var2 + ']')
    ALTER TABLE [dbo].[SportShops] ALTER COLUMN [Address] [nvarchar](30) NOT NULL
    ALTER TABLE [dbo].[Waybills] ADD CONSTRAINT [FK_dbo.Waybills_dbo.SportShops_SportShopId] FOREIGN KEY ([SportShopId]) REFERENCES [dbo].[SportShops] ([SportShopId]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202304091344555_AddWaybill', N'Моделювання.DataAccess.SportShopContex',  0x1F8B0800000000000400DD5B5D6EE336107E2FD03B087A6A8B6CE424E8621BD8BB489DA430BAF941946CFBB66024DA112A512A4905368A5EA1BD400F5114EDD362DB2B784FD22B94D49F2951D49F65C75B04086C891C0E67BE190EF9D1FFBEFB67F86AEEB9DA23C4C4F1D1483FD81FE81A44966F3B6836D2433A7DF6427FF5F2D34F8667B637D7DEA4ED8E783BD6139191FE4069706C18C47A801E20FB9E63619FF853BA6FF99E016CDF381C0CBE320E0E0CC844E84C96A60D6F42441D0F465FD8D7B18F2C18D010B817BE0D5D923C676FCC48AA76093C480260C191BEFC6DF9F7F2CFE55FCB771F7E59FEB1FC7DF97EF9FEC3AFFBA7808213CB8284E8DA89EB00A69809DDA9AE01847C0A2853FBF88E4093621FCDCC803D00EEED2280ACDD14B80426D3395E356F3AB3C1219F99B1EA988AB242427DAFA5C083A3C45446B17B2783EB99299931CF98D1E982CF3A32E8489F50E89DFA96AE15C73A1EBB98B7539A3BF2D37ED27F4F2B6FB5970186E18AFFED69E3D0A521862304438A81BBA75D87F7AE637D0B17B7FE0F108D50E8BAA2CE4C6BF62EF7803DBAC67E00315DDCC0697E26135BD78C7C77A3D83FEB2D778DA73C41F4E850D72E992AE0DE85194004F398D4C7F01B88200614DAD7805288997F27368C4C2C295118928115A6A3F1CFB72C164A06AC1632F65910D5E95C2DC20C7C4CF9FCEB27DF4090F9E007AD055D824767161955A59BAEDD40376A411E9C200EEB14796F8556E7D8F76E7C77E5D1D5CBB7A61F628B9BDC57B5B8057806694BF5F88CEBD58B5B29D4E32FABD58B5A94A9373456015D19E682913A067A266107423D07DAB6C1DE02F1FD853BFF9F8EC61620B6B4EADA0598BF8668461F46FAE1970C1DCE1CDAE98344813BE4B08598F5A1386C9F1E4E21B1B013C42B87726CF6B1D1E0D5635D63C75A253468391E7075ED1AB34F495DF142D74C0B70E5EB72423B54C7B1B50EAAB9845D41759A413BA1BA59FADD1EAA079B40F5896DE3A8C6538E7BD4C3B88D31F81D58DC3BCCE15D1198F4DF01FC259A74419FD0756BD80BBD7B882B50F0BC87ACD64B95B6A9CA48597A24DE282F3DA49752E921B768537A9C10E25B4EA452BEBA160AB5FC2CCF90ADD5566DB19785C28AF99AC5811330E4332D46FA1792F5AAE4A63312E40A25525EF2815E8C9D2B740A5D48A17662C5BBBA312016B06507321BD9F9272CDC20E608072EDBF21216C00EA2726C3AC87202E0D6E95FE8D8B658E21A666315DF9CC200221E8C75CEE941896CAC82F9EAAC353404B8B5406114148DD0928F90FE50988BAB220AE398DD69148AFA3706407971D31D85A2737A50620B289453B30A2D15797A8596ACF8688E427576FF3850A8D47F9B28543A67175118AFD3AC0F653D202E6AC15FC07949FD7A476052C292A45A2A628ACB3521CD67585699AF2A8362B694609917912D1365428405BA89183E37A59818DB3562122F9709C902AF204270816418F1A44A68A73CCE2A22A3499D944D41748784B12695912049F44A31A8F3136E6B8CD80D35C690D364C3E57A2D63E45263D11809B6D6364649A52E1BA366CD68B86A085358E1BAC218EA75625D63A43B872C23ADB81E23267B5252C850B042C30B10046CBF27B044C913CD8C29A2F133B33D59E2C5320C06938AFC998DC4F6AF60060B6FF9A1BC0DCF1D4C28E7A3EE01DFD68D6D4F6A56CCBF8A54948E5648B1B2DFD2049576E09FE34EB57459969EE5D52B9176CE66EAF1E52FDAB4CB7125F78C883BE002ACA65AC6BE1B7AA886BCA99215EFCE4531F193E61212024514913C6A2E23B7B5112555EE796AE4A5E581244F5537F06829384BAA2C249048055A1E748D20292C0EFD8252B91036806545DF6DB9313E1B1505C54F5AC05B3CBECFA15C7CD15C5E72442F4A4A1EED1698E2F56403602A5B3B9B82A9BC6FDF31BC393065A7E6A290ECE1CE00202B4DFA757F5AAEB777BEB2A7CAD0C251B8686AE5E17AA5DB9333EE9CE39367DB5C2677724992CAC862936CF4AC9C2C948DC3A484ABBF7124D57471134E70FA8F8E1DD5730BC2D6880874FBE68FEED87520AF23D2061700395348684CD1E8878383C3C22DA5DDB931641062BB252570C9B5A10E34539FF7741C6EE25A22A92D6D2E903E36FB4CD7BE9A13A9B9FEC59C488C744C3341369C8FF49FA27EC7DAE4FBB742D73DED0A33F41D6B03EDE73E88AB562AC45D5BA8D0E13A4B0700F67D7B64232014A975F408B0F500B0746564FDFB20A9E8CF3C30FF5C14D8FACE87BDF53B1F5D5DDFE3158B2772FD60DD4B13A5628FEAC4B6BE13D1C1437D5E42D88C7772F70E4A0DF9BC6D20F5B2E2EC4CB65EE706807044BE756A5E3A08EE46F87662B5AA0E3B364EE9FFEF187CE1387DEBA4E693A34871CAB1714A7E27B9CF7518F8DD4051C63476A1FD3F2214A98F689E1E45E50CBA4CF4288EB88A3FB551D3E3F1B1022B02EE7DE6F078E55551976AF2BC9A3B2F1BA382E15572EBD5D4BA729472B65041BD5731EF6523A898CD2DF1F292070A644403F2B98CB5DE45D65D8241E1A8FCE9A6DA3BA7BECE540B38CE1D296F8431978F3459DE137E6AC9F22E71662B11FC8797085AB98C97B599A0A99F66DF82466993C226E4025260F373774C9D29B0287BCD0FE0A3BBD96F801BB226676CFF644FD055488390B22943EFDECDDDF6E609BC6AFCE85A405EE7E15574AA41FA980253D3E19BB02BF475E8B876A6F779C90E482182AF0CC99693FB92F2ADE76C9149BAF451434189F9B205ED167A81CB84912B648247D845B73B025FC319B016E9C9B45A48BD23F2661F9E3A608681471219ABFEEC2BC3B0EDCD5FFE0765586799713C0000 , N'6.4.4')
END

IF @CurrentMigration < '202304091347499_ChangeWaybillNumber'
BEGIN
    DECLARE @var3 nvarchar(128)
    SELECT @var3 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Waybills')
    AND col_name(parent_object_id, parent_column_id) = 'Number';
    IF @var3 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Waybills] DROP CONSTRAINT [' + @var3 + ']')
    ALTER TABLE [dbo].[Waybills] ALTER COLUMN [Number] [nvarchar](12) NULL
    UPDATE Waybills SET Number =CONVERT(varchar(3), SportShopId) + '-' + CONVERT(varchar(8), Date, 112) WHERE Number IS NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202304091347499_ChangeWaybillNumber', N'Моделювання.DataAccess.SportShopContex',  0x1F8B0800000000000400DD5B5D6EE336107E2FD03B087A6A8B6CE43828B00DEC5DA44E5218DDFC204EB67D0B688976844A944A52818DA257682FD0431445FBB4D8F60ADE93F40A25F5674A14F567D9F11601025B2287C3996F86437EF4BFEFFE19BC5EB88EF60431B13D34D48F0E7BBA0691E959369A0FF580CE5EBCD45FBFFAF493C1B9E52EB4B749BB63DE8EF54464A83F52EA9F1806311FA10BC8A16B9BD823DE8C1E9A9E6B00CB33FABDDE57C6D1910199089DC9D2B4C16D80A8EDC2F00BFB3AF290097D1A00E7D2B3A043E2E7ECCD2494AA5D0117121F9870A8AF7E5BFDBDFA73F5D7EADD875F567FAC7E5FBD5FBDFFF0EBE119A0E0D4342121BA76EAD880293681CE4CD700421E0594A97D724FE084620FCD273E7B009CBBA50F59BB1970088CA773B26E5E7766BD3E9F99B1EE98883203423DB7A1C0A3E3D85446BE7B2B83EBA9299931CF99D1E992CF3A34E8501F53E89E79A6AEE5C73A193998B7539A3BF4D361DCFF402B6E75900286E18AFF1D68A3C0A101864304038A8173A0DD0453C736BF85CB3BEF07888628701C5167A6357B9779C01EDD60CF87982E6FE12C3B93B1A56B46B6BB91EF9FF696BB46531E237ADCD7B52BA60A983A300588609E09F530FC0622880185D60DA01462E6DFB10543134B4AE486646085C968FCF31D8B858201CB858C3C1644553A978B98F81EA67CFED593AF2168F2E8F98D055D81277B1E1A55A59BAEDD42276C411E6D3F0AEB04790F42AB0BECB9B79EB3F6E8FAE5C3C40BB0C94DEEA95ADC013C87B4A17A7CC6D5EA45AD14EAF197E5EA852D8AD41B18EB802E0D73C1482D033D95B007A19E016DD3606F80F8EEC29DFF4F46630B105B5A75ED122CDE4034A78F43BDFF254387BD8056F22056E01ED96C21667D280E9AA78733484C6CFBD1CAA11C9B7DAC3578F95837D836D7090D9AB60B1C5DBBC1EC535C57BCD4B58909B8F25539A119AAA3D8DA04D55CC2BEA03AC9A0AD505D2FFDEE0ED5BD6DA0FAD4B27058E329C73DEE60DCDA18FC0E2CA73673785B04C6FDF7007FB1266DD02774DD19F602770A71090A8EFA1DA4B54ECAB46D9546CADA23764771ED21BD946A0FB94593DAE39410CFB44395B2E5B550A96567798E2CADB26C8BDC2C5456CCD92C106C9F419F6931D4BF90AC57263799912057A891B2928FF47CF05CA333E8400AB55333DAD68D003181253B90D9C8CA3E61F10631873870D89E97B008B6119583D346A6ED03A74AFF5CC7A6D512D7301D2BFFE60CFA10F168AC724E074AA463E5CC5765AD8121C0AD010AC3A0A885966C847487C24C5CE55118C5EC5EA350D4BF36008AAB9BF628149DD381123B40A19C9A556829C9D36BB4A4D5477D14AAB3FBC78142A5FEBB44A1D239FB88C2689D667D28EB01715E0BFE022E0A0AD87B02E31A96C4D5521E535CEE04D26C8665A5F9BA32C8674B09965911E93251244458A0EB88E173538A89B05D2126F672919034F0722204174886118FAA8476CAF3AC3C32EAD449E91444774818AB5319099244AFE4833A3BE1A6C688DC50610C394DD65CAE3732462635E68D11636B63631454EAB2312AD68C9AAB86308535AE4B8CA15E27363546B2734833D29AEC3122B62761850C052D34B804BECF367C024D143FD1261147347A3169CE96B8910C83C1A4247FA623B10D2C98C3DC5B7E2A6FC10B1B13CA09A929E0DBBA91E54ACDF2F957918A92D1722956F65B92A0920EFC73D4A9922F4BD3B3BC7AC5D22ED84C5DBEFC85BB7639AEE49E2173071C80D55CCBC873021755B03765B2A2DDB928267A525F42CCA08822E247F56564B636A2A4D23D4F85BCA43C90E4A9EA061E2D39674995850412A940CB82AE162485C5A15B502A17C21AB02CE9BB2B374687A3A2A0E84903788BE7F719948B2FEACB8BCFE84549F1A3FD0253B49E6C014C456B675D3015F7ED3A86B707A6F4D85C14923EDC1B00A4A549B7EE4FCAF5E6CE57F654195A380B174DAD3C5D2F757B7CC89D717CFC6C97CBE45E2E495219996F928E9E9693B9B271109770D5578EA49A2E6AC2194EEFC9B6C27A6E49D81A1182EE70F2A333726CC8EB88A4C12540F60C121A71347ABFC7F989CC35A5FDB93264106239052570C1BDA1163C539717756C6EE24A26A9296F2E903E16FB4C37BE9B13AAB9F9CD9C508C744C3346165C0CF59FC27E27DAF8FB07A1EB81768D19FA4EB49EF67317C4552315A2AE0D5468719FA50500BBBE3EB215108ADC3A7A02D87C0458BA33B2F9859044F4672E587C2E0A6C7CE9C3DAF9A58FB6AEEFF08EC533B9BEB7E9AD8942B1C755621B5F8A68E1A12E6F216CC73B998B0785863CEA378DA44E969CBD49D79B5C0110CEC877CECD4B27C1ED18DF56B456D969C7D639FDFF1D852F9CA7EF9CD57C7614298E39B6CEC9EF25F9B90905BF1F284AA9C636BCFF478422F519CDF3A3A8984297991EC51957FEC7366A7E3C3A576045C0D4630E8F565E1577A966CFCBC9F3A2314A285E25B95ECEAD2B4729A60B15DC7B19F55E34828ADADC11312F7920C746D4609F8B68EB7DA4DD2518E4CECA9F6FAA9D93EA9B4C3587E3CC99F2562873F94C93E53DE1C7962CEF127BBE16C17F7A89A099C978699B319A7949F6CD699434C96D422E2105163F78C7D49E0193B2D7FC043EBC9DFD1638016B72CE3650D6185D07D40F289B3274A74EE6BE374FE065E387F702B23A0FAEC3630DD2C514989A36DF845DA3AF03DBB152BD2F0A76400A117C6588F79CDC9794EF3DE7CB54D295876A0A8ACD972E6877D0F51D268C5CA30978826D74BB27F00D9C0373991C4DAB85543B226BF6C1990DE618B82496B1EECFBE320C5BEEE2D57FC8FC0B34733C0000 , N'6.4.4')
END

IF @CurrentMigration < '202304091406273_AddWaybillItem'
BEGIN
    CREATE TABLE [dbo].[WaybillItems] (
        [WaybillItemId] [int] NOT NULL IDENTITY,
        [WaybillId] [int] NOT NULL,
        [SportItemId] [int] NOT NULL,
        [Count] [int] NOT NULL,
        CONSTRAINT [PK_dbo.WaybillItems] PRIMARY KEY ([WaybillItemId])
    )
    CREATE INDEX [IX_WaybillId] ON [dbo].[WaybillItems]([WaybillId])
    CREATE INDEX [IX_SportItemId] ON [dbo].[WaybillItems]([SportItemId])
    ALTER TABLE [dbo].[WaybillItems] ADD CONSTRAINT [FK_dbo.WaybillItems_dbo.SportItems_SportItemId] FOREIGN KEY ([SportItemId]) REFERENCES [dbo].[SportItems] ([SportItemId]) ON DELETE CASCADE
    ALTER TABLE [dbo].[WaybillItems] ADD CONSTRAINT [FK_dbo.WaybillItems_dbo.Waybills_WaybillId] FOREIGN KEY ([WaybillId]) REFERENCES [dbo].[Waybills] ([WaybillId]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202304091406273_AddWaybillItem', N'Моделювання.DataAccess.SportShopContex',  0x1F8B0800000000000400D55C5D6EE336107E2FD03B087A6A8B6CEC2428B00DEC2D52275B04DDFC204EB67D5BD012ED08952855A2021B45AFD05EA087288AF669B1ED15BC27E9154AEACF942852D48F1D190B2C14891C0E87DF0C67A84FFEEFFDBFA3AF978EAD3D413FB05C34D68F0E87BA0691E19A165A8CF510CF5FBCD4BF7EF5E927A30BD3596A6FD37627B41DE98982B1FE88B1773A1804C623744070E85886EF06EE1C1F1AAE3300A63B381E0EBF1A1C1D0D2011A113599A36BA0B11B61C18FD41FE9CB8C8801E0E817DE59AD00E92FBE4C93492AA5D0307061E30E0585FFFBEFE67FDD7FAEFF5FB8FBFAEFF5CFFB1FEB0FEF0F1B7C37380C19961C020D0B533DB0244B129B4E7BA06107231C044EDD387004EB1EFA2C5D42337807DBFF220693707760093E99C6E9AABCE6C784C6736D8744C451961805DA7A6C0A393C4548362F74606D7335312635E10A3E3159D7564D0B17E89A173EE1ABA561CEB7462FBB49DD0DCD13A1D26FD0FB4F25607196008AEE8BF036D12DA38F4E118C110FBC03ED06EC3996D19DFC1D5BDFB23446314DA36AB33D19A3CCBDD20B76E7DD7833E5EDDC1797E2697A6AE0DF2DD07C5FE596FBE6B3CE54B844F8E75ED9AA8026636CC00C298678A5D1F7E0B11F40186E62DC018FA647D2F4D18999853A23024012B4C47A3D7F7C4174A06940B99B8C489AA74968B987AAE8FE9FCAB27AF2068FAE87AB5055D83276B111955A49BAEDD413B6A113C5A5EECD629F2DE31AD5EFBAE73E7DA9B15DD3C7C377543DFA02677452DEE81BF80B8A67A74C6D5EAC5AD04EAD18772F5A21665EA8D061B8796BA3963A4868E9E49E881ABE7405BD7D96B20BE3B77A7FFA7A3910D886CADBA7605966F205AE0C7B17EFC254187B584667A2351E001596423267DB01FD60F0FE730307CCB8B770EE1D8E4526970F958B7BE656C021A342C07D8BA76EB93AB24AF78A96B530350E5AB62423D54C7BED506D554425F509D46D046A8560BBFBB43F5701BA83E334D3FCAF184E39E7430AE3206BF07AB9965DBAD622B23A3073864B46982C442F75D61311DB68B34A68B7CA8496ED63013622C5E9E0D9536E0528EF25675B3A2444AA5A259BB7235936BA992699B569951A6473BDFED91DFB6F0D95DEE1DA13383BE248A1F1D7790967452666DABB411D60E19F8CB6A07EEA1C8471AD60E6741E01A56A452BE3C66624B7E9617C8D42ACBAE789999CA882C367104CB23D0275A8CF52F38EBC9E4A63362E432A12F2FF9482F3ACF0D3A8736C4503B33E2639909080C60F20B486C64E6EF107F833E8538B02764D188075B08F3CE6921C3F2805DA57FA163DD6A876A988D557C720E3D88A837562D4E074A646315CC5765ADD180815B0D14464EA18496BC877487C29C5F155118FB6CAF51C8EAAF0C80F2EAA4390AD9C5E940891DA0B03CD71221A622F1DAA0265745A823529EB2ED476C94CE6197F151BA58FB1123F9C4A10239F21899E5C6B511B9B73152A8FF2E63A47071F62F46A6105289605CCDD7697C2C568BD538EF0D1ACBF4578182B0226C1C170B4BD45A89CED118D734A40F263DA05FF409FA002E4B8AFD870026F57E905496454C51B95388F3D968A06B9B2AAA985972B0CC8BC8B68B3221CC86AD2286CE4D28268EB4156298552E13947340355112319C086635391BB3675A4C3BE16BC022C854CAD36C0AECCA72705529481949EC0217E3437EC2758D11AF688531F8FD5FB14A6A658CDC9E5F344602D3D6C6109C78F2065148D76B24ECCC74F2EE22318E3C45DF165A4A4E9084C651428B385FE48DA2649067424B1680E458294D5B941397B63829A62A0A269698253DE8CB36C5ECD9681093AB921BA381808535BA029E67A105C3CA4AEE68D39892357931AD4F4E72621903125E245B783612767DB08085A7F4458B095F5B7E8029FF6B06E829ECC474B866C51440B085A5A31576797EDDD28D2DED40AFE34E95F4B42C43E0D3A744DA6B3253876660D1213B1F8FF99E1A25CA011BF8626AD3C4B543075590A564B2E2C374564C7C475D42F2528C1591DC529791ABB25949D2F2BB425E5A2F71F2448514F596C26271C92D0712AE46C8834E0992CC36D12D2885DBA3022C257D77B58C3117811514DFA9016F962E934339FB405D5E4289612525B7FA05A6789BDD0298CA520A553095F7EDDA87B707A68CA5C20AC96EF60600B9F4A45B08B015637D10487B8B8C5EA09EB0A697925A54640AE4D5DF6A3A8C7975B6D3E705D896C0D51C58F541D5050052D2432EB224F7769987F532E7E1EA9462936CF4AC5E29D425A3A446A8FE84842B1AE22694B1EA3E59665430AC02E29011E80EA73FD913DB82D4B3D2065700597318E098B3A31F0F295F25F7D9497F3E011904816997D45825DF81E4976BE71F5E58D4C495CCA2BA3C68860464926BDCFA5B8B48CDF6CCC2480C77147D894CB81CEB3F47FD4EB5CB1FDE315D0FB41B9FA0EF541B6ABF744164AAA542DCB5860A0DBE4F6800C0AE3F07D80A0859AE347A02BEF1087CEE1B80F604FF54F4670E587ECE0AAC4DE237774EE26FBAF41D72E69F69E9876D59F0A5624FAAC43622B93758A56D30CAB7B2521C0F56353C661DDBC7E7E7DD226A6E73B569D62DD0D305AF793BFE9DA33297BAE2D171DD58DC49D2D29B0DBF0DA99879C1B773461BF792B31987B411F9437620BB7596F09E10DED449C1CC9BD09D33D19E1D458293D8ADB37CF790B0B62FF12847C869CA94DBA3B8243F4EEE636C5227E3F6233665D488260CE03D8A4DE2B3E3BEC7264532EDCEB9AD7D884A7556B5735EECDE106179B24C71254B69AE32966B7C724E8A94994B963CAE0C44B4413107564E812D1B43C297135264E50C59E128E544340983B68A405B36928C29261A4BC6B0958CC1CBDF0DFF965BED02794481645AC64EED23BB96835C81DAF07C53DD1A77B6CDEA96F80E4703E8212BB6CD2A175C38F772BADF9C571595B7B8BA35F8ACFCFB60B2A3323F3C48F6F4C05A6C44D09F2144D0C8EDA5599B4B3477D35DBDA051DAA470FC760531302969C1C7D61C18983CA6EC85E8970EDE023B244D2E9C19342FD14D88BD109329436766E77E3B81A606B2F123D26E5EE7D14DF44A28E8620A444D8B1E3FDEA06F42CB3633BD5F979CFD0944D09C23396DA56B89E9A9EB629549BA7691A2A0C47C59AA740F1DCF26C2821B34054FB0896E0F017C0317C058A5AFF5C542AA17226FF6D1B905163E708244C6A63FF99360D87496AFFE07EC87E5657F530000 , N'6.4.4')
END

